# Задание 4

Разработать ассемблер и интерпретатор для учебной виртуальной машины (УВМ). Система команд УВМ представлена далее.  

Для ассемблера необходимо разработать читаемое представление команд УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к которой задается из командной строки. Результатом работы ассемблера является бинарный файл в виде последовательности байт, путь к которому задается из командной строки. Дополнительный ключ командной строки задает путь к файлу-логу, в котором хранятся ассемблированные инструкции в духе списков “ключ=значение”, как в приведенных далее тестах.  

Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон также указывается из командной строки.  

Форматом для файла-лога и файла-результата является yaml.  

Необходимо реализовать приведенные тесты для всех команд, а также написать и отладить тестовую программу.  

### Загрузка константы

|A         |B         |C         |
|----------|----------|----------|
|Биты 0-2  |Биты 3-7  |Биты 8-19 |
|1         |Адрес     |Константа |  

Размер команды: 6 байт. Операнд: поле C. Результат: регистр по адресу, которым является поле B.  

Тест (A=1, B=6, C=50): `0x31, 0x32, 0x00, 0x00, 0x00, 0x00`

### Чтение значения из памяти

|A         |B         |C         |
|----------|----------|----------|
|Биты 0-2  |Биты 3-7  |Биты 8-19 |
|7         |Адрес     |Адрес     |

Размер команды: 6 байт. Операнд: значение в памяти по адресу, которым является регистр по адресу, которым является поле C. Результат: регистр по адресу, которым является поле B.  

Тест (A=7, B=17, C=27): `0x8F, 0x1B, 0x00, 0x00, 0x00, 0x00`

### Запись значения в память

|A         |B         |C         |
|----------|----------|----------|
|Биты 0-2  |Биты 3-34 |Биты 35-39|
|2         |Адрес     |Адрес     |

Размер команды: 6 байт. Операнд: регистр по адресу, которым является поле C. Результат: значение в памяти по адресу, которым является поле B.  

Тест (A=2, B=766, C=16): `0xF2, 0x17, 0x00, 0x00, 0x80, 0x00`  

### Бинарная операция: умножение

|A         |B         |C         |D         |
|----------|----------|----------|----------|
|Биты 0-2  |Биты 3-7  |Биты 8-12 |Биты 13-44|
|2         |Адрес     |Адрес     |Адрес     |

Размер команды: 6 байт. Первый операнд: регистр по адресу, которым является поле C. Второй операнд: значение в памяти по адресу, которым является поле D. Результат: регистр по адресу, которым является поле B.  

Тест (A=3, B=2, C=13, D=480): `0x13, 0x0D, 0x3C, 0x00, 0x00, 0x00`

### Тестовая программа

Выполнить поэлементно операцию `умножение` над двумя векторами длины 4.Результат записать в первый вектор.

# Запуск
### Ассемблер и интерпретатор
```
python assembler.py --input test_cmd.txt --bin program.bin --log log.yaml
```
```
python interpreter.py --bin program.bin --out output.yaml --range 0 10
```
### Тесты
```
python3 -m coverage run -m test_assemb
```